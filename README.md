# Dropbox SDK for Rust

Rust bindings to the Dropbox APIv2, generated by Stone from the official spec.

To build:
```
git submodule init
git submodule update
./generate.sh dropbox-api-spec
cargo build
```

To actually use the API calls, you need a HTTP client -- all functions take a `&HttpClient` as their first argument.
This trait is located at `dropbox_sdk::client_trait::HttpClient`. Implement this trait and pass it as the client argument.

If you don't want to implement your own, this SDK comes with an optional default client that uses Hyper and your system's native TLS library.
To use it, build with the `hyper_client` feature flag, and then there will be a `dropbox_sdk::hyper_client::HyperClient` type that you can use.
The default Hyper client needs a Dropbox API token; how you get one is up to you and your program.

Some implementation notes and limitations:
 * The code uses `serde_derive` to generate the serialization/deserialization code at build time.
    Unfortunately, this currently results in extremely long build times and large binary sizes.
    This issue is being tracked at https://github.com/serde-rs/serde/issues/286 
    and https://github.com/serde-rs/serde-json/issues/313.
 * Another limitation of the Serde generated deserialization code is that open unions are currently not supported, in that unknown variants will fail to deserialize.
    There's a feature request for this at https://github.com/serde-rs/serde/issues/912
 * Stone allows structures to inherit from other structures and be polymorphic.
    Rust doesn't have these paradigms, so instead this SDK represents polymorphic parent structs as enums, and the inherited fields are put in all variants.
    See `dropbox_sdk::files::Metadata` for an example.

Happy Dropboxing!

